define(["jquery","backbone","setup","views/food-view"],function(t,e,i,s){var o=e.View.extend({tagName:"tbody",initialize:function(t){switch(this.option=t.option,this.isFound=t.isFound,this.listenTo(i.messages,"showMyList",this.showAll),this.listenTo(i.messages,"closeList",this.close),this.option){case"all":this.showAll();break;case"results":this.showResults(this.isFound);break;default:this.showToday()}},render:function(e){var o,n=this;n.collection.each(function(t){t.get("show")&&(o=new s({model:t}),e&&o.$(".option").text("Add"),o.$el.appendTo(n.$el))}),n.$(".delete").css("visibility","hidden"),"results"!==i.whichList&&n.$(".item").hover(function(){t(this).find(".delete").css("visibility","visible")},function(){t(this).find(".delete").css("visibility","hidden")}),i.foodTable.append(n.$el)},showToday:function(){return i.title.html("Today"),i.optionHead.html("#"),i.done.addClass("hidden"),i.whichList="today",this.collection.each(function(t){t.get("today")?t.set({show:!0}):t.set({show:!1})}),this.render(),!1},showResults:function(t){t?(i.title.html("Add to Today"),i.optionHead.text("+"),this.render(!0),i.done.removeClass("hidden"),i.whichList="results"):i.title.html("No matches. Try again or search the database")},showAll:function(){"all"!==i.whichList&&(i.title.html("My List"),i.optionHead.text("+"),this.collection.each(function(t){t.set({show:!0})}),this.render(!0),i.done.removeClass("hidden"),i.whichList="all")}});return o});